# Требования к визуализации (VS UI)

**Дата:** 2025-01-24
**Статус:** Требования пользователя

---

## 1. Назначение и цели

### 1.1 Зачем нужна визуализация

**Проблема из прошлого опыта:**
> "Я не мог показать людям, что происходит внутри, и поэтому они не понимали и не имели мотивации с этим работать."

**Цель:**
- Наглядно показать что происходит в системе
- Дать людям понимание работы системы
- Создать мотивацию использования через прозрачность

### 1.2 Приоритеты

**Критично:**
- **Наглядность** — должно быть понятно "что происходит"
- **Timeline** — графическое отображение событий во времени
- **Swimlanes** — дорожки для разделения сущностей

**Важно:**
- **Agent reasoning** — показать что думают агенты (SGR traces)
- **User context** — детализация по клику

**Опционально:**
- Графы связей
- Анимированные демо

---

## 2. Технические вводные

### 2.1 Backend API

**Коммуникация:** Polling (простота)

**Пример запроса:**
```
GET /api/timeline?since=2025-01-24T10:00:00
```

**Задержка:** 1+ секунда — норма, real-time не требуется

---

## 3. Требования к фронтенду

### 3.1 Критерии выбора стека

1. **Наглядность** — результат должен выглядеть убедительно
2. **Простота разработки** — не перегружать сложностью
3. **Timeline + swimlanes** — должны быть легко реализуемы

---

## 4. Views (экраны/виды)

**Критичные:**

### 4.1 Timeline View — **КРИТИЧНО**
Показать события во времени графически

### 4.2 Swimlanes View — **КРИТИЧНО**
Разделение событий по сущностям на дорожки

**Важные:**

### 4.3 User Context View — **ВАЖНО**
Детализация по конкретному пользователю

### 4.4 Agent Reasoning View — **ВАЖНО**
Показать что думает агент (SGR traces)

**Опциональные:**

### 4.5 Graph View — **ОПЦИОНАЛЬНО**
Показать связи между сущностями

### 4.6 Demo Flow View — **ОПЦИОНАЛЬНО**
Анимированная демонстрация для лендинга

---

## 5. Пожелания и гипотезы из обсуждения

### 5.1 Из обсуждения архитектуры

**Наглядность > Real-time:**
- Задержка 1+ секунда — норма
- Не нужно WebSocket для real-time
- Polling достаточен

**Timeline должен быть графическим:**
- НЕ текстовый список строк
- Позиция на оси = момент времени
- Масштабируемость (zoom in/out)

**Swimlanes могут быть разными:**
- По пользователям
- По объектам
- По агентам
- Возможность переключения

**Детализация — отдельный view:**
- User Context — по клику на пользователя
- Agent Reasoning — по клику на агента
- Не перегружать основной view

### 5.2 Из system_requirements.md (исходный документ)

**VS.timeline (swimlanes):**
- Swimlanes: дорожки по пользователям, DB в центре, время по горизонтали
- Основной вид для понимания механики сервиса

**VS.object:**
- Трассировка конкретного объекта через систему

**VS.user:**
- Срез по пользователю: dialogue buffer, history, delivered

**VS.bus:**
- Текущее состояние Event Bus

**VS.flow (демо):**
- Анимированный граф для демо
- Схватывается за 3-5 секунд

---

**Документ:** `00_docs/architecture/visualization.md`
**Дата:** 2025-01-24
