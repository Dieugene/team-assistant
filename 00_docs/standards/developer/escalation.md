# Эскалация от Developer

Когда и как эскалировать проблемы к Tech Lead.

## Когда эскалировать

### К Tech Lead
- Задача неполна или противоречива
- Обнаружены блокирующие технические проблемы
- Требуются уточнения по реализации
- Найдены несоответствия в `task_brief.md`
- Невозможно реализовать согласно постановке
- Архитектурные проблемы (Tech Lead решит сам или эскалирует к Architect)

## Процесс эскалации

### Шаг 1: Создай файл с вопросами

Создай `01_tasks/NNN/_questions_tech_lead.md`:

```markdown
# Вопросы для Tech Lead

**От:** Developer
**Дата:** YYYY-MM-DD

## Вопрос 1: [Короткое название]

**Проблема:**
[В чем конкретно проблема с задачей]

**Контекст:**
[Что ты пытался реализовать]

**Что блокирует:**
[Почему невозможно продолжать без ответа]

**Твое предложение (если есть):**
[Как бы ты решил, если бы мог]

---

## Вопрос 2: [Если есть]
...
```

### Шаг 2: Сформируй промпт для Tech Lead

```
Ты — Tech Lead (см. .agents/tech-lead.md).

Прочитай:
- .agents/tech-lead.md
- AGENTS.md
- Все файлы из 00_docs/standards/common/
- Все файлы из 00_docs/standards/tech-lead/
- 01_tasks/NNN/_questions_tech_lead.md
- 01_tasks/NNN/task_brief_NN.md

Задача: Ответь на вопросы Developer. Обнови task_brief при необходимости.

После ответа сформируй промпт для возврата Developer к работе.
```

### Шаг 3: Положи промпт в чат

Используй markdown блок (```) для удобного копирования.

### Шаг 4: Останови работу

**НЕ продолжай реализацию** пока Tech Lead не ответит.

## Примеры хороших эскалаций

### Пример 1: Неполнота задачи

```markdown
## Вопрос: Обработка ошибок валидации

**Проблема:**
В task_brief описан EmailValidator, но не указано:
- Какой формат ошибок возвращать?
- Где логировать failed валидации?
- Retry policy для DNS lookup?

**Контекст:**
Реализую EmailValidator из Acceptance Criteria

**Что блокирует:**
Невозможно реализовать error handling без этих деталей.

**Твое предложение:**
Предлагаю использовать ValidationError с кодом и сообщением,
аналогично существующему UserValidator.
```

### Пример 2: Противоречие в задаче

```markdown
## Вопрос: Противоречие в хранении данных

**Проблема:**
- task_brief говорит хранить в PostgreSQL
- Но интерфейс предполагает Redis cache
- Не указано что именно в Redis

**Контекст:**
Реализую data access layer

**Что блокирует:**
Непонятна data flow между PostgreSQL и Redis

**Твое предложение:**
Нужны явные правила: что в PostgreSQL, что в Redis, TTL для кеша.
```

### Пример 3: Архитектурная проблема

```markdown
## Вопрос: Rate limiting — несоответствие ADR

**Проблема:**
Согласно ADR-007 rate limiting должен быть в каждом сервисе.
При реализации обнаружил что это создает inconsistency.

**Контекст:**
Клиент получает разные лимиты от разных сервисов.

**Что блокирует:**
Невозможно реализовать корректный rate limiting.

**Твое предложение:**
Возможно нужен централизованный rate limiting на gateway.
```

**Примечание:** Tech Lead сам решит — ответить напрямую или эскалировать к Architect.

## После получения ответа

- Tech Lead обновит `task_brief_NN.md` (если нужно)
- Получишь промпт для возврата к работе
- Продолжишь реализацию с учетом ответа
